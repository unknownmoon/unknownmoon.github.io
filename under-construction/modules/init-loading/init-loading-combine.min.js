!function(){function t(t){function e(t,n){var i,o={};return"object"==typeof n&&(i=Object.keys(n),i.forEach(function(i){return"element"===i?(o[i]=void 0===t||void 0===t[i]?n[i]:t[i],o.progressElm=o.element.querySelector(".jl-loading-progress"),o.progressElm.setAttribute("data-progress","0"),void(o.progressElm.innerHTML="0%")):void(o[i]="object"==typeof n[i]?e("object"==typeof t?t[i]:void 0,n[i]):void 0===t||void 0===t[i]?n[i]:t[i])})),o}function n(t){var e=[],n=/^(\d+)(.*)$/,i=t.min,o=t.step,r=t.num,a="",s="",l=!0,c=i.match&&i.match(n),d=i.match&&o.match(n);c&&c instanceof Array&&""!==c[1]?(i=parseFloat(c[1]),a=c[2]):i="number"==typeof i?i:0,d&&d instanceof Array&&""!==d[1]?(o=parseFloat(d[1]),s=d[2]):o="number"==typeof o?o:0,l=a===s;for(var m=0;r>m;m++)e.push(l?i+m*o+a:a?i*Math.pow(o,m)+a:i+m*o);return e}function i(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.className.baseVal+=" jl-loading",e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");for(var n,i,o,r=0;r<t.circle.numOfCircle;r++)o=t.circle.animationName+" "+t.genAnimationDuration[t.circle.numOfCircle-r-1]+"ms "+t.circle.animationTimingFunction+" "+t.circle.animationDelay+" "+t.circle.animationIterationCount+" "+t.circle.animationDirection+" "+t.circle.animationFillMode,i="stroke-dasharray:"+t.genRadius[t.circle.numOfCircle-r-1]+";-webkit-animation:"+o+";animation:"+o+";",n=document.createElementNS("http://www.w3.org/2000/svg","circle"),n.setAttribute("id","c"+(r+1)),n.setAttribute("cx","50%"),n.setAttribute("cy","50%"),n.setAttribute("r",""+t.genRadius[t.circle.numOfCircle-r-1]),n.setAttribute("style",i),e.appendChild(n);t.element.appendChild(e)}function o(){for(var t=c._opts.element,e=t.querySelectorAll("circle"),n={x:t.clientWidth/2,y:t.clientHeight/2},i=0;i<e.length;i++)e[i].style.transformOrigin=n.x+"px "+n.y+"px"}function r(){o()}function a(){window.removeEventListener("resize",r),c._opts.element.style.opacity=0,setTimeout(function(){c._opts.element.remove()},750)}function s(t){c._opts.progressElm.setAttribute("data-progress",t),c._opts.progressElm.innerHTML=t+"%"}function l(){return c._opts.progressElm.getAttribute("data-progress")}var c=this,d={element:document.body,circle:{radius:{min:"10%",step:"5%"},numOfCircle:6,animationName:"loadingRot",animationTimingFunction:"linear",animationDelay:"",animationIterationCount:"infinite",animationDirection:"alternate",animationFillMode:"",animationPlayState:"initial",animationDuration:{min:1500,step:500}}};return c._opts=e(t,d),c._opts.genAnimationDuration=n({min:c._opts.circle.animationDuration.min,step:c._opts.circle.animationDuration.step,num:c._opts.circle.numOfCircle}),c._opts.genRadius=n({min:c._opts.circle.radius.min,step:c._opts.circle.radius.step,num:c._opts.circle.numOfCircle}),i(c._opts),o(),window.addEventListener("resize",r),{destroy:a,update:s,getProgress:l}}window.jing=window.jing||{},window.jing.InitLoading=t}(),function(){var t=document.querySelector(".jl-loading-wrapper");t.classList.remove("invisible");var e=new jing.InitLoading({element:t,circle:{numOfCircle:4}}),n=function(t){this._conf=t.conf,this._loadingInst=t.loading,this._total=this._conf.total,this._loaded=0};n.prototype.start=function(){this.loadFile(this._conf.js),this.loadFile(this._conf.css)},n.prototype.finish=function(){this._loadingInst.destroy(),document.body.classList.remove("landing")},n.prototype.loadFile=function(t){var e=this,n=function(t){e._loaded+=t.loaded-this._lastEvtloaded,this._lastEvtloaded=t.loaded,e._loadingInst.update(Math.min(Math.ceil(e._loaded/e._total*100),100)),e._loadingInst.getProgress()>=100&&e.finish()},i=function o(i){var r=new XMLHttpRequest;r._lastEvtloaded=0,r.addEventListener("progress",n,!1),r.addEventListener("load",function(n){var r=n.target,a=document.createElement("script");this.removeEventListener("progress load"),a.innerHTML=r.responseText,a.addEventListener("load",function(t){console.log(t),this.removeEventListener("load")}),document.documentElement.appendChild(a),e._loaded>=e._total?e.finish():void 0!==i.fptr&&++i.fptr<i.total&&o({link:t[i.fptr],fptr:i.fptr,total:i.total})},!1),r.open("GET",i.link),r.send()};if(t instanceof Array&&0!==t.length)i({link:t[0],fptr:0,total:t.length});else{if("string"!=typeof t)return;i({link:t})}};var i=new XMLHttpRequest;i.addEventListener("load",function(){if(200===this.status||304===this.status){var t=new n({conf:JSON.parse(this.responseText),loading:e});t.start()}else alert("Error: cannot load configuration file, please refresh the page.")}),i.open("GET","initLoadConf.json"),i.send()}();
//# sourceMappingURL=init-loading-combine.min.js.map